<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{admin/admin_layout}">
<head>
  <!-- 페이지별 title -->
  <title layout:fragment="title">상품 등록</title>
</head>
<body>
<section layout:fragment="content" th:fragment="content">
  <link rel="stylesheet" th:href="@{/admin/css/product-register.css}"/>
  <div class="card">
    <div class="card-header">
      <h5>상품 등록</h5>
      <div>
        <a href="/admin/products" class="btn btn-light">
          <i class="fas fa-list"></i> 상품 목록
        </a>
      </div>
    </div>
    <div class="card-body">
      <form id="productForm" th:action="@{/admin/products/add}" method="post" enctype="multipart/form-data">
        <!-- [상품 기본 정보] -->
        <div class="row mb-4">
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label for="productName" class="form-label">상품명 <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="productName" name="productName" required>
            </div>
            <div class="form-group mb-3">
              <label for="brand" class="form-label">브랜드 <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="brand" name="brand" required>
            </div>
            <div class="form-group mb-3">
              <label for="category" class="form-label">카테고리 <span class="text-danger">*</span></label>
              <select class="form-control" id="category" name="categoryId" required>
                <option value="">카테고리 선택</option>
                <option th:each="category : ${categories}"
                        th:value="${category.id}"
                        th:text="${category.name}">카테고리명</option>
              </select>
            </div>
            <div class="form-group mb-3">
              <label for="price" class="form-label">가격 (원) <span class="text-danger">*</span></label>
              <input type="number" class="form-control" id="price" name="price" min="0" required>
            </div>
            <div class="form-group mb-3">
              <label for="discountRate" class="form-label">할인율 (%)</label>
              <input type="number" class="form-control" id="discountRate" name="discountRate" min="0" max="100" value="0">
            </div>
          </div>
          <div class="col-md-6">
            <!-- [추가 필드] -->
            <div class="form-group mb-3">
              <label for="productCode" class="form-label">상품 코드 <span class="text-danger">*</span></label>
              <input type="text" class="form-control" id="productCode" name="productCode" required>
            </div>
            <div class="form-group mb-3">
              <label for="stock" class="form-label">재고 수량 <span class="text-danger">*</span></label>
              <input type="number" class="form-control" id="stock" name="stock" min="0" required>
            </div>
            <div class="form-group mb-3">
              <label class="form-label d-block">성별</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="genderMen" value="MEN" checked>
                <label class="form-check-label" for="genderMen">남성</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="genderWomen" value="WOMEN">
                <label class="form-check-label" for="genderWomen">여성</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="genderUnisex" value="UNISEX">
                <label class="form-check-label" for="genderUnisex">공용</label>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-label d-block">상품 상태</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="status" id="statusActive" value="ACTIVE" checked>
                <label class="form-check-label" for="statusActive">판매중</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="status" id="statusInactive" value="INACTIVE">
                <label class="form-check-label" for="statusInactive">판매중지</label>
              </div>
            </div>
            <div class="form-group mb-3">
              <label class="form-label">추천/신상품 설정</label>
              <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="featured" name="featured">
                <label class="form-check-label" for="featured">추천 상품</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="newArrival" name="newArrival">
                <label class="form-check-label" for="newArrival">신상품</label>
              </div>
            </div>
          </div>
        </div>

        <!-- [사이즈/재고 관리] -->
        <div class="row mb-4">
          <div class="col-12">
            <div class="card">
              <div class="card-header"><h6 class="mb-0">사이즈 및 재고 관리</h6></div>
              <div class="card-body" id="sizeStockContainer">
                <div class="row mb-2 size-stock-row">
                  <div class="col-md-4">
                    <select class="form-control size-select" name="sizes[]" required>
                      <option value="">사이즈 선택</option>
                      <option value="220">220</option>
                      <!-- 이하 생략 -->
                      <option value="300">300</option>
                    </select>
                  </div>
                  <div class="col-md-4">
                    <input type="number" class="form-control size-stock" name="sizeStocks[]" placeholder="재고 수량" min="0" required>
                  </div>
                  <div class="col-md-4">
                    <button type="button" class="btn btn-light add-size-btn"><i class="fas fa-plus"></i></button>
                    <button type="button" class="btn btn-danger remove-size-btn" disabled><i class="fas fa-minus"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- [이미지 업로드·미리보기 등 나머지 스크립트는 공통 admin.js로 분리 권장] -->
      </form>
    </div>
  </div>
</section>
</body>
</html>
